
Well, it does not require local operation, which means node objects are not necessary consistent, it is the node.val that matters.   

Use recursive manner.    

